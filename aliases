# Reload zshrc
alias sss='source ~/.zshrc'

# Forget Me Not Task Manager
alias tl='fmn list'
alias ta='fmn add'
alias td='fmn done'

alias t='tig'

# Navigation
alias ~='cd ~'
alias o='open'

# git
alias g='git'
alias gb='git branch'
alias gs='nocorrect git status --short'
alias ga='nocorrect git add'
alias gaa='nocorrect git add --all'
alias gc='nocorrect git commit'
alias gcm='nocorrect git commit -m'
alias gcn='git commit --amend --no-edit'
alias gp='nocorrect git push'
alias gl='nocorrect git pull'
alias ge='git checkout'
alias ghp='git checkout -p'
alias gh.='git checkout .'
alias gh-='git checkout -'
alias gnb='git checkout -b'
alias gd='git diff'
alias gdc='git diff --cached'
alias gm='git merge'
alias gr='git rebase'
alias gf='git fetch'
# At iflix, the base branch was always master, in the Automattic mobile
# division it's develop. I wonder if there's a way to read what the base branch
# is from somewhere...
alias gfr='git fetch && git rebase origin/develop'
alias gt='git tag'
# merge by always making a new commit (--no-ff) and open editor for the commit message (-e)
alias gmm='git merge --no-ff -e'
alias gsp='git submodule foreach git pull'
alias gsu='git submodule update'
alias gcp='git cherry-pick'
alias glgr='git log --oneline --reverse'
alias grbc='git rebase --continue'
alias gsh='git show head'

# See https://coderwall.com/p/euwpig
alias glg="git log \
  --graph \
  --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue) %an%Creset' \
  --abbrev-commit"
# see above + only show commits made in the the current branch
alias glgf='glg --first-parent'

# Hub is a CLI client for the GitHub APIs
# https://github.com/github/hub
alias gpr='hub pull-request --draft'
alias grp=gpr
alias cpr='hub pr checkout' # usage `cpr <PR id>`

# Stay safe when git commit -a
safe_command() {
	message=$1
	shift 1
	echo "$message"; echo -n "\e[0;33;49mAre you sure? (y/n) \e[0m"; read ANSWER; if [ $ANSWER = y ]; then $*; fi;
}
message='\e[0;33;49mYou are about to perform a git commit all.\e[0m'
# no correct doesn't work here... why?
gca_cmd='git commit -a'
gcam_cmd='git commit -a -m'
alias gca="safe_command '$message' $gca_cmd"
alias gcam="safe_command '$message' $gcam_cmd"
alias gri="git rebase --interactive"
alias gir=gri
alias gpt="git push; git push --tags"
alias gap="git add -p"
alias gchp="git checkout -p"
# List the 10 most recent branches
alias grb="git branch --sort=committerdate | tail -10 | more"
# Custom script to interactively stash files
# TODO: this needs to be parametric, can't depend on an hardcoded path
alias gsa="ruby $DOTFILES_HOME/scripts/interactive-stage.rb"

# Git-Flow aliases
# https://github.com/nvie/gitflow
alias gfl='nocorrect git flow'
alias gff='nocorrect git flow feature'
alias gffs='nocorrect git flow feature start'
alias g3f='nocorrect git flow feature finish'

# iOS & OS X development
alias xco='open -a Xcode .'
alias xbo='open -a /Applications/Xcode-beta.app .'
alias aco='open -a AppCode .'

alias pii='nocorrect pod install'
alias pi='nocorrect pod install && xco'
alias bpi='bundle exec pod install && xco'

# Ruby gem to find unused Objective-C imports, and eventually delete them
# https://github.com/dblock/fui
alias fui='nocorrect fui'

# Note! this assumes you have xctool available in your path
# and the .xctoolargs in the current working directory
alias xt='xctool test'alias ..='cd ..'

# Ruby
alias r='ruby'
alias rr='rake'
alias bi='bundle install'
alias be='bundle exec'
alias br='bundle exec rake'
alias ber='bundle exec ruby'

# npm
alias nmp='npm'

# Android
alias a='open -a Android\ Studio'

# Apps
alias chrome='open -a Google\ Chrome'
alias m='open -a MacDown'
# Markoff is a markdown previewer
# https://github.com/thoughtbot/Markoff
alias mp='open -a Markoff'
alias v='vim'
alias ao='open -a /Applications/Android\ Studio.app'

alias cask='brew cask'

# Utils
# (You can download the "Lee" voice from the Voice Utility app)
alias sey="say -v Oliver \"Joe, I've completed the task you gave me\""

# Carthage
# using tu because cu is already taken by a system command
alias tu='carthage update --no-build'
alias tub='carthage update --build'

# Fastlane
alias f='fastlane'
alias bf='bundle exec fastlane'

# Update any software installed via Homebrew
# fd = fresh drink
alias fd='brew update && brew upgrade'

alias pb='pbcopy'

# A cat with syntax highlighting and Git support
# https://github.com/sharkdp/bat
alias cat='bat'

# GNU's wc is better than the macOS one, e.g. it has the -L option to find the
# longest line in a file
if type gwc > /dev/null; then
  alias wc=gwc
fi

alias md=mkdir

mkdir_and_cd() {
  mkdir $1 && cd $1
}
alias mc=mkdir_and_cd

alias haed=head

alias myip="ifconfig | grep 'inet ' | grep --invert-match 127 | cut -d' ' -f2"

# React Native
alias rn="npx react-native"
alias rni="npx react-native run-ios"

# Common typos I make
alias vm=mv
alias crul=curl
